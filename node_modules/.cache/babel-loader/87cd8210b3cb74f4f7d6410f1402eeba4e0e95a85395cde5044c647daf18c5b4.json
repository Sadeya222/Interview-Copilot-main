{"ast":null,"code":"// File generated from our OpenAPI spec by Stainless.\nimport { AbstractPage } from \"./core.mjs\";\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class Page extends AbstractPage {\n  constructor(client, response, body, options) {\n    super(client, response, body, options);\n    this.data = body.data;\n    this.object = body.object;\n  }\n  getPaginatedItems() {\n    return this.data;\n  }\n  // @deprecated Please use `nextPageInfo()` instead\n  /**\n   * This page represents a response that isn't actually paginated at the API level\n   * so there will never be any next page params.\n   */\n  nextPageParams() {\n    return null;\n  }\n  nextPageInfo() {\n    return null;\n  }\n}\nexport class CursorPage extends AbstractPage {\n  constructor(client, response, body, options) {\n    super(client, response, body, options);\n    this.data = body.data;\n  }\n  getPaginatedItems() {\n    return this.data;\n  }\n  // @deprecated Please use `nextPageInfo()` instead\n  nextPageParams() {\n    const info = this.nextPageInfo();\n    if (!info) return null;\n    if ('params' in info) return info.params;\n    const params = Object.fromEntries(info.url.searchParams);\n    if (!Object.keys(params).length) return null;\n    return params;\n  }\n  nextPageInfo() {\n    if (!this.data?.length) {\n      return null;\n    }\n    const next = this.data[this.data.length - 1]?.id;\n    if (!next) return null;\n    return {\n      params: {\n        after: next\n      }\n    };\n  }\n}","map":{"version":3,"names":["AbstractPage","Page","constructor","client","response","body","options","data","object","getPaginatedItems","nextPageParams","nextPageInfo","CursorPage","info","params","Object","fromEntries","url","searchParams","keys","length","next","id","after"],"sources":["src/pagination.ts"],"sourcesContent":[null],"mappings":"AAAA;SAESA,YAAY,QAAsD;AAQ3E;;;AAGA,OAAM,MAAOC,IAAW,SAAQD,YAAkB;EAKhDE,YAAYC,MAAiB,EAAEC,QAAkB,EAAEC,IAAwB,EAAEC,OAA4B;IACvG,KAAK,CAACH,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,CAAC;IAEtC,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI;IACrB,IAAI,CAACC,MAAM,GAAGH,IAAI,CAACG,MAAM;EAC3B;EAEAC,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACF,IAAI;EAClB;EAEA;EACA;;;;EAIAG,cAAcA,CAAA;IACZ,OAAO,IAAI;EACb;EAEAC,YAAYA,CAAA;IACV,OAAO,IAAI;EACb;;AAmBF,OAAM,MAAOC,UACX,SAAQZ,YAAkB;EAK1BE,YACEC,MAAiB,EACjBC,QAAkB,EAClBC,IAA8B,EAC9BC,OAA4B;IAE5B,KAAK,CAACH,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,CAAC;IAEtC,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI;EACvB;EAEAE,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACF,IAAI;EAClB;EAEA;EACAG,cAAcA,CAAA;IACZ,MAAMG,IAAI,GAAG,IAAI,CAACF,YAAY,EAAE;IAChC,IAAI,CAACE,IAAI,EAAE,OAAO,IAAI;IACtB,IAAI,QAAQ,IAAIA,IAAI,EAAE,OAAOA,IAAI,CAACC,MAAM;IACxC,MAAMA,MAAM,GAAGC,MAAM,CAACC,WAAW,CAACH,IAAI,CAACI,GAAG,CAACC,YAAY,CAAC;IACxD,IAAI,CAACH,MAAM,CAACI,IAAI,CAACL,MAAM,CAAC,CAACM,MAAM,EAAE,OAAO,IAAI;IAC5C,OAAON,MAAM;EACf;EAEAH,YAAYA,CAAA;IACV,IAAI,CAAC,IAAI,CAACJ,IAAI,EAAEa,MAAM,EAAE;MACtB,OAAO,IAAI;;IAGb,MAAMC,IAAI,GAAG,IAAI,CAACd,IAAI,CAAC,IAAI,CAACA,IAAI,CAACa,MAAM,GAAG,CAAC,CAAC,EAAEE,EAAE;IAChD,IAAI,CAACD,IAAI,EAAE,OAAO,IAAI;IACtB,OAAO;MAAEP,MAAM,EAAE;QAAES,KAAK,EAAEF;MAAI;IAAE,CAAE;EACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}