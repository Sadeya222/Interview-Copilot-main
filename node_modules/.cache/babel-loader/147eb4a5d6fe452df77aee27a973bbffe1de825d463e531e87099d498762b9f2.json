{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/**\n * The error that is thrown when an argument passed in is null.\n *\n * @export\n * @class DefferalMap\n */\nexport class DeferralMap {\n  constructor() {\n    this.privMap = {};\n  }\n  add(id, deferral) {\n    this.privMap[id] = deferral;\n  }\n  getId(id) {\n    return this.privMap[id];\n  }\n  complete(id, result) {\n    try {\n      this.privMap[id].resolve(result);\n    } catch (error) {\n      this.privMap[id].reject(error);\n    } finally {\n      this.privMap[id] = undefined;\n    }\n  }\n}","map":{"version":3,"names":["DeferralMap","constructor","privMap","add","id","deferral","getId","complete","result","resolve","error","reject","undefined"],"sources":["src/common/DeferralMap.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\nimport { Deferred } from \"./Promise.js\";\r\n\r\n/**\r\n * The error that is thrown when an argument passed in is null.\r\n *\r\n * @export\r\n * @class DefferalMap\r\n */\r\n\r\nexport class DeferralMap {\r\n    private privMap: { [id: string]: Deferred<any> } = {};\r\n\r\n    public add<T>(id: string, deferral: Deferred<T>): void {\r\n        this.privMap[id] = deferral;\r\n    }\r\n\r\n    public getId(id: string): Deferred<any> {\r\n        return this.privMap[id];\r\n    }\r\n\r\n    public complete<T>(id: string, result: T): void {\r\n        try {\r\n            this.privMap[id].resolve(result);\r\n        } catch (error) {\r\n            this.privMap[id].reject(error as string);\r\n        } finally {\r\n            this.privMap[id] = undefined;\r\n         }\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AAIA;;;;;;AAOA,OAAM,MAAOA,WAAW;EAAxBC,YAAA;IACY,KAAAC,OAAO,GAAoC,EAAE;EAmBzD;EAjBWC,GAAGA,CAAIC,EAAU,EAAEC,QAAqB;IAC3C,IAAI,CAACH,OAAO,CAACE,EAAE,CAAC,GAAGC,QAAQ;EAC/B;EAEOC,KAAKA,CAACF,EAAU;IACnB,OAAO,IAAI,CAACF,OAAO,CAACE,EAAE,CAAC;EAC3B;EAEOG,QAAQA,CAAIH,EAAU,EAAEI,MAAS;IACpC,IAAI;MACA,IAAI,CAACN,OAAO,CAACE,EAAE,CAAC,CAACK,OAAO,CAACD,MAAM,CAAC;KACnC,CAAC,OAAOE,KAAK,EAAE;MACZ,IAAI,CAACR,OAAO,CAACE,EAAE,CAAC,CAACO,MAAM,CAACD,KAAe,CAAC;KAC3C,SAAS;MACN,IAAI,CAACR,OAAO,CAACE,EAAE,CAAC,GAAGQ,SAAS;;EAEpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}