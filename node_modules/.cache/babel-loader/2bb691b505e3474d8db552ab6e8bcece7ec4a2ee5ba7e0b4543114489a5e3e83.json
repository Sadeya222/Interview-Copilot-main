{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n/* eslint-disable max-classes-per-file */\nimport { EventType, PlatformEvent } from \"./PlatformEvent.js\";\nexport class OCSPEvent extends PlatformEvent {\n  constructor(eventName, eventType, signature) {\n    super(eventName, eventType);\n    this.privSignature = signature;\n  }\n}\nexport class OCSPMemoryCacheHitEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPMemoryCacheHitEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPCacheMissEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPCacheMissEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPDiskCacheHitEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPDiskCacheHitEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPCacheUpdateNeededEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPCacheUpdateNeededEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPMemoryCacheStoreEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPMemoryCacheStoreEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPDiskCacheStoreEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPDiskCacheStoreEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPCacheUpdateCompleteEvent extends OCSPEvent {\n  constructor(signature) {\n    super(\"OCSPCacheUpdateCompleteEvent\", EventType.Debug, signature);\n  }\n}\nexport class OCSPStapleReceivedEvent extends OCSPEvent {\n  constructor() {\n    super(\"OCSPStapleReceivedEvent\", EventType.Debug, \"\");\n  }\n}\nexport class OCSPWSUpgradeStartedEvent extends OCSPEvent {\n  constructor(serialNumber) {\n    super(\"OCSPWSUpgradeStartedEvent\", EventType.Debug, serialNumber);\n  }\n}\nexport class OCSPCacheEntryExpiredEvent extends OCSPEvent {\n  constructor(serialNumber, expireTime) {\n    super(\"OCSPCacheEntryExpiredEvent\", EventType.Debug, serialNumber);\n    this.privExpireTime = expireTime;\n  }\n}\nexport class OCSPCacheEntryNeedsRefreshEvent extends OCSPEvent {\n  constructor(serialNumber, startTime, expireTime) {\n    super(\"OCSPCacheEntryNeedsRefreshEvent\", EventType.Debug, serialNumber);\n    this.privExpireTime = expireTime;\n    this.privStartTime = startTime;\n  }\n}\nexport class OCSPCacheHitEvent extends OCSPEvent {\n  constructor(serialNumber, startTime, expireTime) {\n    super(\"OCSPCacheHitEvent\", EventType.Debug, serialNumber);\n    this.privExpireTime = expireTime;\n    this.privExpireTimeString = new Date(expireTime).toLocaleDateString();\n    this.privStartTime = startTime;\n    this.privStartTimeString = new Date(startTime).toLocaleTimeString();\n  }\n}\nexport class OCSPVerificationFailedEvent extends OCSPEvent {\n  constructor(serialNumber, error) {\n    super(\"OCSPVerificationFailedEvent\", EventType.Debug, serialNumber);\n    this.privError = error;\n  }\n}\nexport class OCSPCacheFetchErrorEvent extends OCSPEvent {\n  constructor(serialNumber, error) {\n    super(\"OCSPCacheFetchErrorEvent\", EventType.Debug, serialNumber);\n    this.privError = error;\n  }\n}\nexport class OCSPResponseRetrievedEvent extends OCSPEvent {\n  constructor(serialNumber) {\n    super(\"OCSPResponseRetrievedEvent\", EventType.Debug, serialNumber);\n  }\n}\nexport class OCSPCacheUpdateErrorEvent extends OCSPEvent {\n  constructor(serialNumber, error) {\n    super(\"OCSPCacheUpdateErrorEvent\", EventType.Debug, serialNumber);\n    this.privError = error;\n  }\n}","map":{"version":3,"names":["EventType","PlatformEvent","OCSPEvent","constructor","eventName","eventType","signature","privSignature","OCSPMemoryCacheHitEvent","Debug","OCSPCacheMissEvent","OCSPDiskCacheHitEvent","OCSPCacheUpdateNeededEvent","OCSPMemoryCacheStoreEvent","OCSPDiskCacheStoreEvent","OCSPCacheUpdateCompleteEvent","OCSPStapleReceivedEvent","OCSPWSUpgradeStartedEvent","serialNumber","OCSPCacheEntryExpiredEvent","expireTime","privExpireTime","OCSPCacheEntryNeedsRefreshEvent","startTime","privStartTime","OCSPCacheHitEvent","privExpireTimeString","Date","toLocaleDateString","privStartTimeString","toLocaleTimeString","OCSPVerificationFailedEvent","error","privError","OCSPCacheFetchErrorEvent","OCSPResponseRetrievedEvent","OCSPCacheUpdateErrorEvent"],"sources":["src/common/OCSPEvents.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\n/* eslint-disable max-classes-per-file */\r\n\r\nimport { EventType, PlatformEvent } from \"./PlatformEvent.js\";\r\n\r\nexport class OCSPEvent extends PlatformEvent {\r\n    private privSignature: string;\r\n\r\n    public constructor(eventName: string, eventType: EventType, signature: string) {\r\n        super(eventName, eventType);\r\n\r\n        this.privSignature = signature;\r\n    }\r\n}\r\n\r\nexport class OCSPMemoryCacheHitEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPMemoryCacheHitEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPCacheMissEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPCacheMissEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPDiskCacheHitEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPDiskCacheHitEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPCacheUpdateNeededEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPCacheUpdateNeededEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPMemoryCacheStoreEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPMemoryCacheStoreEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPDiskCacheStoreEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPDiskCacheStoreEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPCacheUpdateCompleteEvent extends OCSPEvent {\r\n    public constructor(signature: string) {\r\n        super(\"OCSPCacheUpdateCompleteEvent\", EventType.Debug, signature);\r\n    }\r\n}\r\n\r\nexport class OCSPStapleReceivedEvent extends OCSPEvent {\r\n    public constructor() {\r\n        super(\"OCSPStapleReceivedEvent\", EventType.Debug, \"\");\r\n    }\r\n}\r\n\r\nexport class OCSPWSUpgradeStartedEvent extends OCSPEvent {\r\n    public constructor(serialNumber: string) {\r\n        super(\"OCSPWSUpgradeStartedEvent\", EventType.Debug, serialNumber);\r\n    }\r\n}\r\n\r\nexport class OCSPCacheEntryExpiredEvent extends OCSPEvent {\r\n    private privExpireTime: number;\r\n\r\n    public constructor(serialNumber: string, expireTime: number) {\r\n        super(\"OCSPCacheEntryExpiredEvent\", EventType.Debug, serialNumber);\r\n        this.privExpireTime = expireTime;\r\n    }\r\n}\r\n\r\nexport class OCSPCacheEntryNeedsRefreshEvent extends OCSPEvent {\r\n    private privExpireTime: number;\r\n    private privStartTime: number;\r\n\r\n    public constructor(serialNumber: string, startTime: number, expireTime: number) {\r\n        super(\"OCSPCacheEntryNeedsRefreshEvent\", EventType.Debug, serialNumber);\r\n        this.privExpireTime = expireTime;\r\n        this.privStartTime = startTime;\r\n    }\r\n}\r\n\r\nexport class OCSPCacheHitEvent extends OCSPEvent {\r\n    private privExpireTime: number;\r\n    private privStartTime: number;\r\n    private privExpireTimeString: string;\r\n    private privStartTimeString: string;\r\n\r\n    public constructor(serialNumber: string, startTime: number, expireTime: number) {\r\n        super(\"OCSPCacheHitEvent\", EventType.Debug, serialNumber);\r\n        this.privExpireTime = expireTime;\r\n        this.privExpireTimeString = new Date(expireTime).toLocaleDateString();\r\n        this.privStartTime = startTime;\r\n        this.privStartTimeString = new Date(startTime).toLocaleTimeString();\r\n    }\r\n}\r\n\r\nexport class OCSPVerificationFailedEvent extends OCSPEvent {\r\n    private privError: string;\r\n\r\n    public constructor(serialNumber: string, error: string) {\r\n        super(\"OCSPVerificationFailedEvent\", EventType.Debug, serialNumber);\r\n        this.privError = error;\r\n    }\r\n}\r\n\r\nexport class OCSPCacheFetchErrorEvent extends OCSPEvent {\r\n    private privError: string;\r\n\r\n    public constructor(serialNumber: string, error: string) {\r\n        super(\"OCSPCacheFetchErrorEvent\", EventType.Debug, serialNumber);\r\n        this.privError = error;\r\n    }\r\n}\r\n\r\nexport class OCSPResponseRetrievedEvent extends OCSPEvent {\r\n    public constructor(serialNumber: string) {\r\n        super(\"OCSPResponseRetrievedEvent\", EventType.Debug, serialNumber);\r\n    }\r\n}\r\n\r\nexport class OCSPCacheUpdateErrorEvent extends OCSPEvent {\r\n    private privError: string;\r\n\r\n    public constructor(serialNumber: string, error: string) {\r\n        super(\"OCSPCacheUpdateErrorEvent\", EventType.Debug, serialNumber);\r\n        this.privError = error;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}